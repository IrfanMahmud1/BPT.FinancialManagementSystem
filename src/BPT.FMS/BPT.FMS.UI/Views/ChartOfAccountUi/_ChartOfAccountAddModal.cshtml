@using BPT.FMS.Domain.Dtos
@model ChartOfAccountDto
@{
    ViewData["Title"] = "Create Chart Of Account";
    var formattedDate = DateTime.Now.ToString("yyyy-MM-ddTHH:mm");
}

<div class="modal fade" id="coa-addModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title text-dark-emphasis fw-bolder fs-5">Create</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="coa-addModal-createForm" asp-antiforgery="true" asp-area="" asp-controller="ChartOfAccountUi"
                      asp-action="Create" method="post">
                    <div asp-validation-summary="All" class="text-danger"></div>

                    <div class="card-body">
                        <div class="row justify-content-center">
                            <div class="row mb-4 col-lg-12 col-md-12 col-sm-12">
                                <!-- Account Name -->
                                <div class="mb-3 row align-items-center col-lg-6 col-md-6 col-sm-12">
                                    <label class="col-form-label fw-bold">Name</label>
                                    <div>
                                        <input type="text" asp-for="AccountName" id="coa-addModal-txtAccountName" class="form-control"/>
                                        <span asp-validation-for="AccountName" class="text-danger" id="coa-addModal-spnAccountName"></span>
                                    </div>
                                </div>
                                <!-- Account Type -->
                                <div class="mb-3 row align-items-center col-lg-6 col-md-6 col-sm-12">
                                    <label class="col-form-label fw-bold">Account Type</label>
                                    <div>
                                        <select asp-for="AccountType" id="coa-addModal-ddlAccountType" class="form-select">
                                            <option value="0">Select Type</option>
                                            <option value="Asset">Asset</option>
                                            <option value="Liability">Liability</option>
                                            <option value="Equity">Equity</option>
                                            <option value="Revenue">Revenue</option>
                                        </select>
                                        <span asp-validation-for="AccountType" class="text-danger" id="coa-addModal-spnName"></span>
                                    </div>
                                </div>

                                <!-- Create At -->
                                <div class="mb-3 row align-items-center col-lg-6 col-md-6 col-sm-12">
                                    <label class="col-form-label fw-bold">Date</label>
                                    <div>
                                        <input type="datetime-local" asp-for="CreatedAt" id="coa-addModal-dteCreatedAt" min="@formattedDate" value="@formattedDate" class="form-control" />
                                        <span asp-validation-for="CreatedAt" class="text-danger" id="coa-addModal-spnCreatedAt"></span>
                                    </div>
                                </div>

                                <!-- Account Type -->
                                <div class="mb-3 row align-items-center col-lg-6 col-md-6 col-sm-12">
                                    <label class="col-form-label fw-bold">Parent Account</label>
                                    <div>
                                        <select asp-for="ParentId" id="coa-addModal-ddlParentId" class="form-select">
                                        </select>
                                        <span asp-validation-for="ParentId" class="text-danger" id="coa-addModal-spnParentId"></span>
                                    </div>
                                </div>

                                <!-- Is Active -->
                                <div class="mb-3 row align-items-center col-lg-6 col-md-6 col-sm-12">
                                    <label class="col-form-label fw-bold">Is Active</label>
                                    <div>
                                        <input type="checkbox" asp-for="IsActive" id="coa-addModal-chbxIsActive" checked class="form-check-input"  />
                                        <span asp-validation-for="IsActive" class="text-danger" id="coa-addModal-spnIsActive"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer bg-secondary-subtle">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" id="coa-addModal-createButton" class="btn btn-danger">Create</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        <partial name="_ValidationScriptsPartial" />
    }
}